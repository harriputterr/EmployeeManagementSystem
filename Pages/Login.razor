@page "/login"
@inherits LayoutComponentBase
@inject NavigationManager navigationManager
@inject LoginController loginController
@using MauiDesktopApplicaton.Data
<style>

	a {
		text-decoration: none;
		color: black;
	}

	h1 {
		position: relative;
		padding: 0;
		margin: 0;
		font-family: "Raleway", sans-serif;
		font-weight: 300;
		font-size: 40px;
		color: #080808;
		-webkit-transition: all 0.4s ease 0s;
		-o-transition: all 0.4s ease 0s;
		transition: all 0.4s ease 0s;
	}

		h1 span {
			display: block;
			font-size: 0.5em;
			line-height: 1.3;
		}

		h1 em {
			font-style: normal;
			font-weight: 600;
		}

	.alt-two h1 {
		text-align: center;
	}

		.alt-two h1:before {
			left: 50%;
			margin-left: -30px;
		}

	.two h1 {
		text-transform: capitalize;
	}

		.two h1:before {
			position: absolute;
			left: 45%;
			bottom: 0;
			width: 200px;
			height: 2px;
			content: "";
			background-color: #c50000;
		}

		.two h1 span {
			font-size: 13px;
			font-weight: 500;
			text-transform: uppercase;
			letter-spacing: 4px;
			line-height: 3em;
			padding-left: 0.25em;
			color: rgba(0, 0, 0, 0.4);
			padding-bottom: 10px;
		}
</style>


<div class="container mt-1">
	<div class="row mt-1">
		<div class="col-md-8">
			<div class="card ">
				<div class="card-body">
					<div class="form-group row p-2">
						<label>Login</label>
					</div>

					<form method="post">

						<div class="form-group bg-grey">
							<hr />

							<div class="form-group row p-2">
								<label>Username </label>
								<div class="col-md-9">
									<input placeholder="" @bind="username" class="form-control" />
								</div>
							</div>
							<div class="form-group row p-2">
								<label>Password</label>
								<div class="col-md-9">
									<input type="password" placeholder="" @bind="password" class="form-control" />
								</div>
							</div>
							<div class="form-group row p-3">
								<div class="col-md-3"></div>
								<div class="col-md-9">

									<button class="btn btn-primary" @onclick="LoginUser">Login</button>

								</div>
							</div>
							<Hr/>
							<div class="form-group row p-3">
								<div class="col-md-3"></div>
								
								<div class="col-md-9">

									<a class="btn btn-primary" href="registeruser">New user? Register here</a>

								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
@code {

	string username = "";
	string password = "";
	private void LoginUser()
	{
		if (!string.IsNullOrEmpty(username) && !string.IsNullOrEmpty(password))
		{
			var result=loginController.Login(username, password);
			if(!result)
			{
				App.Current.MainPage.DisplayAlert("Login", "Invalid Credentials!", "OK");
			}

		}
	}
}

